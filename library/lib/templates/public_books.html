{% extends 'base.html' %}

{% block content %}
{% include 'partials/book_search.html' %}
<h2>All Available Books</h2>
<table border="1" cellpadding="5">
    <thead>
        <tr>
            <th>Book Name</th>
            <th>Author</th>
            <th>Category</th>
            <th>ISBN</th>
            <th>Copies Available</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        {% for book in books %}
        <tr>
            <td><a href="{% url 'book_details' book.pk %}">{{ book.name }}</a></td>
            <td>{{ book.author }}</td>
            <td>{{ book.category }}</td>
            <td>{{ book.isbn }}</td>
            <td>{{ book.number_in_stock }}</td>
            <td>
                {% if book.description %}
                    {{ book.description|truncatewords:20 }}
                {% else %}
                    No description
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No books available.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
